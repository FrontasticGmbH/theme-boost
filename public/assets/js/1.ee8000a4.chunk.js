(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{214:function(e,t,r){"use strict";r.r(t);var n=r(215),a=r.n(n),o=r(223),i=r.n(o),s=r(438),c=r(439),l=r(440),u=r(218),p=r(217),f=r.n(p),h=r(262),d=r(422),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;this.loading=!e,this.loaded=e?new Date:null,this.error=null,this.data=e,this.ttl=t,this.isComplete=function(){return!this.loading&&!this.error},this.isCurrent=function(){return!(!this.loaded||this.error)&&this.loaded.getTime()>(new Date).getTime()-1e3*this.ttl},this.setError=function(e){return this.loading=!1,this.loaded=null,this.error=e,this.data=null,this}};m.purgeMap=function(e){var t={};for(var r in e)e[r]&&e[r].isCurrent&&e[r].isCurrent()&&(t[r]=e[r]);return t},m.purge=function(e){return e&&e.isCurrent()?e:new m};var y=m,b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=t}return b(e,[{key:"getItems",value:function(){return this.items}},{key:"getProductCount",value:function(){return f.a.sumBy(this.items,"count")}}]),e}(),v=function(e,t){var r=this;this.store=e,this.api=t,this.add=function(e,t,n){var a=r.store.getState().basket.basket.items,o=f.a.find(a,function(r){return r.product.productId===e.productId&&r.variant.id===t.id});o?o.count+=n:a.push({product:e,variant:t,count:n}),r.store.dispatch({type:"Domain.Basket.success",data:{items:a}})}},w={basket:new g};v.handleAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case"FRONTASTIC_ROUTE":return e;case"Domain.Basket.success":return Object.assign({},e,{basket:new g(t.data.items)})}return e};var _=v,j=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.environment="production",this.locale="en_GB",this.session={loggedIn:!1,user:null,message:null},this.hasFeature=function(e){return this.features&&f.a.contains(this.features,e)},this.isLoggedIn=function(){return this.session&&this.session.loggedIn},this.fromParameters=function(e){},this.toParameters=function(){return{environment:this.environment,project:this.project.projectId||null,locale:this.locale}},this.isDevelopment=function(){return"development"===this.environment},this.getLanguage=function(){return this.locale.substr(0,this.locale.indexOf("_"))},this.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={},n=!0,a=!1,o=void 0;try{for(var i,s=Object.entries(this)[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value,l=j(c,2),u=l[0],p=l[1];r[u]=p}}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}t.project&&"string"==typeof t.project&&(r.project.projectId=t.project,delete t.project);var f=!0,h=!1,d=void 0;try{for(var m,y=Object.entries(t)[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var b=m.value,g=j(b,2),v=g[0],w=g[1];r[v]=w}}catch(e){h=!0,d=e}finally{try{!f&&y.return&&y.return()}finally{if(h)throw d}}return t.project&&"string"==typeof t.project&&(r.project.projectId=t.project),new e(r)};var r=!0,n=!1,a=void 0;try{for(var o,i=Object.entries(t)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=j(s,2),l=c[0],u=c[1];this[l]=u}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}!this.project&&this.customer&&(this.project=this.customer.projects[0])};var O=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};O.getActionHash=function(e){return JSON.stringify(O.getActionParameters(e))},O.getActionParameters=function(e){return f.a.pickBy(e,function(e,t){return"_"!==t.charAt(0)})},O.hasChanged=function(e,t){return!e||(e.route!==t.route||O.getActionHash(e.parameters)!==O.getActionHash(t.parameters))};var P=O,k=function(e,t){var r=this;this.store=e,this.api=t,this.loadTree=function(e){r.api.trigger("Frontastic.Frontend.Node.tree",e,e.root||"root")},this.loadNode=function(e){r.api.trigger("Frontastic.Frontend.Node.view",e,e.nodeId)},this.reloadPreview=function(e){r.api.trigger("Frontastic.Frontend.Preview.view",e,e.preview)},this.loadMaster=function(e,t){r.api.request("GET",e,t,null,function(e,t){r.store.dispatch({id:e.node.nodeId,cacheKey:P.getActionHash(t),type:"Frontend.Master.view.success",data:e,parameters:t})},function(e){r.store.dispatch({id:null,cacheKey:P.getActionHash(t),type:"Frontend.Master.view.error",error:e})})}},x={error:null,trees:{},nodes:{},nodeData:{},pages:{},last:{node:null,data:null,page:null},currentNodeId:null,currentCacheKey:null};k.handleAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments[1],r={},n={},a={},o={};switch(t.type){case"FRONTASTIC_ROUTE":return{error:null,trees:y.purgeMap(e.trees),nodes:y.purgeMap(e.nodes),nodeData:y.purgeMap(e.nodeData),pages:y.purgeMap(e.pages),last:e.last,currentNodeId:P.hasChanged(t.lastRoute,t.route)?null:e.currentNodeId,currentCacheKey:P.hasChanged(t.lastRoute,t.route)?null:e.currentCacheKey};case"Frontend.Node.tree.success":return r=f.a.extend({},e.trees),t.id&&(r[t.id]=new y(t.data,3600)),Object.assign({},e,{trees:r});case"Frontend.Node.tree.error":return r=f.a.extend({},e.trees),t.id&&(r[t.id]=(new y).setError(t.error)),Object.assign({},e,{trees:r});case"Frontend.Node.view.success":case"Frontend.Master.view.success":case"Frontend.Preview.view.success":case"Frontend.Master.Error.view.success":n=f.a.extend({},e.nodes),a=f.a.extend({},e.nodeData),o=f.a.extend({},e.pages),t.id&&(n[t.id]=new y(t.data.node,3600),a[t.cacheKey]=new y(t.data.data,3600),o[t.id]=new y(t.data.page,3600));var i=new y(t.data.data);return i.loading=!0,Object.assign({},e,{currentNodeId:t.id,currentCacheKey:t.cacheKey,nodes:n,nodeData:a,pages:o,last:{node:new y(f.a.extend({},t.data.node)),data:i,page:new y(f.a.extend({},t.data.page))}});case"Frontend.Node.view.error":case"Frontend.Master.view.error":case"Frontend.Preview.view.error":case"Frontend.Master.Error.view.error":return n=f.a.extend({},e.nodes),a=f.a.extend({},e.nodeData),o=f.a.extend({},e.pages),t.id&&(n[t.id]=(new y).setError(t.error),a[t.cacheKey]=(new y).setError(t.error),o[t.id]=(new y).setError(t.error)),Object.assign({},e,{currentNodeId:t.id,currentCacheKey:t.cacheKey,nodes:n,nodeData:a,pages:o});case"Frontend.Error.view.success":return e.error?e:Object.assign({},e,{error:t.data})}return e};var R=k,T=function(e,t){var r=this;this.store=e,this.api=t,this.find=function(e){r.api.trigger("Frontastic.ApiCoreBundle.App.data",e,JSON.stringify(e))},this.get=function(e){r.api.trigger("Frontastic.ApiCoreBundle.App.get",e,e.dataId)}},C={data:{}};T.handleAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments[1],r={};switch(t.type){case"FRONTASTIC_ROUTE":return{data:y.purgeMap(e.data)};case"ApiCoreBundle.App.get.success":case"ApiCoreBundle.App.data.success":return(r=f.a.extend({},e.data))[t.id]=new y(t.data,3600),Object.assign({},e,{data:r});case"ApiCoreBundle.App.get.error":case"ApiCoreBundle.App.data.error":return(r=f.a.extend({},e.data))[t.id]=(new y).setError(t.error),Object.assign({},e,{data:r})}return e};var N=T,S=function(e,t){var r=this;this.store=e,this.api=t,this.loadTastics=function(e){r.api.trigger("Frontastic.Frontend.Tastic.all",e,"tastic")}},q={tastics:null};S.handleAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments[1],r=new y;switch(t.type){case"FRONTASTIC_ROUTE":return{tastics:y.purge(e.tastics)};case"Frontend.Tastic.all.success":return r=new y(t.data,3600),Object.assign({},e,{tastics:r});case"Frontend.Tastic.all.error":return Object.assign({},e)}return e};var F=S,A={route:null,context:new E},I=Object(h.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments[1];"undefined"==typeof PRODUCTION&&t.type&&"@@"!==t.type.substr(0,2)&&console.groupCollapsed&&(console.groupCollapsed("%cðŸ”Š %c%s","color: gray","color: darkmagenta",t.type),console.info(t),console.groupEnd());var r=null;switch(t.type){case"FRONTASTIC_INIT":return Object.assign({},e);case"FRONTASTIC_ROUTE":return Object.assign({},e,{route:t.route});case"ApiBundle.Api.context.success":return r=new E(t.data),Object.assign({},e,{context:r});case"ApiBundle.Api.context.error":return(r=new E(e.context)).session.message=t.data,Object.assign({},e,{context:r})}return e},node:R.handleAction,data:N.handleAction,tastic:F.handleAction,basket:_.handleAction}),D=document.getElementById("app"),M=JSON.parse(D.getAttribute("data-props")),V=Object(h.d)(I,{node:{last:{node:new y(M.node),data:new y(M.data),page:new y(M.page)}}},Object(h.a)(d.a)),B=r(42),L=r(421),U=r.n(L),z=r(417),H=r.n(z),W=r(41),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.history=e,this.routes=t,this.context=r||new E,this.parameterMatcher=/\{([A-Za-z0-9]+)\}/g,this.location=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=f.a.extend({},t,this.contextParameters());if(!(e in this.routes))throw new Error("Route "+e+" not defined, did you mean any of these: "+this.getSimilarRoutes(e).join(", "));for(var n=[],a=!1;a=this.parameterMatcher.exec(this.routes[e]);)n.push(a[1]);var o=f.a.difference(n,f.a.keys(r));if(o.length)throw new Error("Missing values for "+e+": "+o.join(", "));var i=f.a.difference(f.a.keys(r),n),s="";return i.length&&(s="?"+Object(W.httpBuildQuery)(f.a.pick(r,i))),{pathname:f.a.reduce(n,function(e,t){return e.replace("{"+t+"}",r[t])},this.routes[e]),search:s}},this.path=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.location(e,t);return r.pathname+r.search},this.match=function(e){for(var t in this.routes){var r=U.a.fromString(this.reactRoute(t));if(r.matches(e))return{route:t,parameters:r.match(e).namedParams||{}}}throw new Error("No defined route match path: "+e)},this.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.history.push(this.location(e,t),r)},this.replace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.history.replace(this.location(e,t),r)},this.reactRoute=function(e){if(!(e in this.routes))throw new Error("Route "+e+" not defined, did you mean any of these: "+this.getSimilarRoutes(e).join(", "));for(var t=[],r=!1;r=this.parameterMatcher.exec(this.routes[e]);)t.push(r[1]);return f.a.reduce(t,function(e,t){return e.replace("{"+t+"}",":"+t)},this.routes[e])},this.setContext=function(e){this.context=e},this.setRoutes=function(e){this.routes=e},this.contextParameters=function(){return this.context.toParameters()},this.getSimilarRoutes=function(e){return f.a.map(f.a.sortBy(f.a.mapValues(this.routes,function(t,r){return{route:r,distance:H.a.get(r,e)}}),"distance").slice(0,5),"route")}};var G=function(e,t){var r=this;this.router=e,this.store=t;var n=[];this.request=function(e,t,r,n,a,o){var i=this;fetch(this.router.path(t,r),{method:e,headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:function(e){return null===e||void 0===e?null:"string"==typeof e||e instanceof String?e:JSON.stringify(e)}(n),credentials:"same-origin",cache:"default"}).then(function(e){var t=e.headers.get("Content-Type");if(t&&t.includes("application/json"))return e.json().then(function(t){return{ok:e.ok,status:e.status,json:t}});console.error("Unhandled Response Type:",e),o&&o({status:500,message:"Internal Server Error"})}).then(function(r){return r&&r.json&&r.json.__DEBUG&&(console.groupCollapsed("%cðŸ’» %c%s (%s: %s)","color: gray","color: lightcoral","Server Debug",e,t),f.a.each(r.json.__DEBUG,function(e){var t;(t=console).log.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}),console.groupEnd()),r}).then(function(e){return e?e.ok?a?a(e.json,r):void 0:(403===e.status&&(i.clearContinuousRequests(),i.store.dispatch({type:"ApiBundle.Api.context.success",data:{session:{}}}),"Frontastic.Index.index"!==i.store.getState().app.route.route&&i.router.replace("Frontastic.Index.index")),void(e.json&&e.json.message&&"string"==typeof e.json.message?(console.error("Error:",e.json),o&&!r.hasError&&(i.trigger("Frontastic.Frontend.Master.Error.view",{hasError:!0},"error"),o(e.json,e.json.stack||null))):(console.error("Unhandled Error:",e),o&&o({status:500,message:"Internal Server Error"})))):(console.error("Invalid Response:",e),void(o&&o({status:500,message:"Internal Server Error"})))})},this.requestContinuosly=function(e,t,r,a,o){var i=this,s=this.getReloadInterval(),c=function(){i.request(e,t,r,null,a,o)};c(),n.push({refreshFunction:c,refreshInterval:s,interval:window.setInterval(c,s)})},this.trigger=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.substr(e.indexOf(".")+1);r.request("GET",e,t,null,function(e,t){r.store.dispatch({type:a+".success",id:n,cacheKey:P.getActionHash(t),data:e,parameters:t})},function(e){r.store.dispatch({type:a+".error",id:n,cacheKey:P.getActionHash(t),error:e})})},this.triggerContinuously=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.substr(e.indexOf(".")+1);r.requestContinuosly("GET",e,t,function(e){r.store.dispatch({type:a+".success",id:n,data:e})},function(e){r.store.dispatch({type:a+".error",id:n,error:e})})},this.pauseRequests=function(){if(n)for(var e=0;e<n.length;++e)window.clearInterval(n[e].interval),n[e].interval=null},this.resumeRequests=function(){if(n)for(var e=0;e<n.length;++e)n[e].interval=window.setInterval(n[e].refreshFunction,n[e].refreshInterval)},this.clearContinuousRequests=function(){this.pauseRequests(),n=[]},this.getReloadInterval=function(){return 6e4}},J=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var n in this.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.parameters&&this.parameters[e]?this.parameters[e]:t},this.has=function(e){return this.parameters&&this.parameters[e]},e)this[n]=e[n];this.query=t,this.urlParameters=f.a.extend({},e.parameters),this.parameters=f.a.extend({},this.urlParameters,this.query),this.historyState=r},Z=function(e,t){var r=this;this.store=e,this.api=t,this.refresh=function(e){r.api.request("GET","Frontastic.ApiBundle.Api.context",e,null,function(e){var t=new E(e);Y.getRouter().setContext(t),Y.getRouter().setRoutes(t.routes),r.store.dispatch({type:"ApiBundle.Api.context.success",data:e}),Y.loadForLocation(window.location)},function(e){r.store.dispatch({type:"ApiBundle.Api.context.error",data:e})})},this.login=function(e,t){r.api.request("POST","Frontastic.UserBundle.User.login",null,{email:e,password:t},function(e){r.refresh()},function(e){r.store.dispatch({type:"ApiBundle.Api.context.error",data:e.message})})}},Q=function(e,t,r){this.store=e,this.router=t,this.api=r,this.loaders={context:new Z(this.store,this.api),node:new R(this.store,this.api),tastic:new F(this.store,this.api),basket:new _(this.store,this.api),data:new N(this.store,this.api)},this.loadContentForPath=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.api.clearContinuousRequests();var a=null;try{a=new J(t.match(e),r,n)}catch(e){a=new J({route:"Frontastic.Frontend.Master.Error.view",parameters:{}},r,n)}switch(this.store.dispatch({type:"FRONTASTIC_ROUTE",route:a,lastRoute:this.store.getState().app.route}),"undefined"==typeof PRODUCTION&&(console.groupCollapsed("%cðŸ”€ %c%s","color: gray","color: darkmagenta",a.route),console.info(a),console.groupEnd()),this.loaders.tastic.loadTastics(a.parameters),a.route){case"Frontastic.Frontend.Master.Category.view":case"Frontastic.Frontend.Master.Product.view":case"Frontastic.Frontend.Master.Error.view":this.loaders.node.loadMaster(a.route,a.parameters);break;case"Frontastic.Frontend.Preview.view":this.loaders.node.reloadPreview(a.parameters);break;default:"node_"===a.route.substr(0,5)&&(a.parameters.nodeId=a.route.substr(5),this.loaders.node.loadNode(a.parameters))}},this.getLoader=function(e){if(!(e in this.loaders))throw new Error("Unknown loader "+e);return this.loaders[e]}},Y=new function(e,t){var r=this;this.store=e,this.history=t,this.router=new K(this.history,{"Frontastic.ApiBundle.Api.context":"/api/context"}),this.api=new G(this.router,this.store),this.loader=new Q(this.store,this.router,this.api),this.visibility=new W.VisibilityChange,this.visibility.registerCallBack(this.api.pauseRequests,this.api.resumeRequests),this.loadForLocation=function(e){r.loader.loadContentForPath(e.pathname,Object(W.httpParseQuery)(e.search.substr(1)),e.state||null)},this.getApi=function(){return this.api},this.getRouter=function(){return this.router},this.getStore=function(){return this.store},this.getLoader=function(e){return this.loader.getLoader(e)},this.history&&this.history.listen(this.loadForLocation)}(V,B.a),X=r(290),$=r(396),ee=r.n($),te=r(395),re=r.n(te),ne=r(394),ae=r.n(ne);function oe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object(X.d)([].concat(oe(re.a),oe(ae.a)));var ie={en:{},de:{}},se=Object(u.b)(function(e){var t=e.app.context.getLanguage();return{locale:t,messages:ee.a.dot(ie[t]||{})}})(X.c),ce=r(216),le=r.n(ce),ue=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={error:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),ue(t,[{key:"componentDidCatch",value:function(e,t){console.warn("Component error",e),this.setState({error:e})}},{key:"render",value:function(){return this.state.error?a.a.createElement("div",{className:"tastic e-tastic--errored"},a.a.createElement("p",null,this.state.error.toString())):this.props.children}}]),t}();pe.propTypes={children:le.a.any},pe.defaultProps={};var fe=pe,he=r(393),de=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ye=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=me(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.componentDidMount=function(){var e=n.refs.markdown.querySelectorAll("a");f.a.map(e,function(e){e.onclick=function(t){t.preventDefault(),Y.getRouter().history.push(e.getAttribute("href"))}})},me(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),de(t,[{key:"render",value:function(){var e=Object(W.getTranslation)(this.props.text,this.props.context.locale,this.props.context.project.defaultLanguage);return a.a.createElement("div",{className:"c-markdown s-text",ref:"markdown",dangerouslySetInnerHTML:{__html:he.markdown.toHTML(e.text||"")}})}}]),t}();ye.propTypes={context:le.a.object.isRequired,text:le.a.oneOfType([le.a.object,le.a.string]).isRequired},ye.defaultProps={};var be=Object(u.b)(function(e,t){return Object.assign({context:e.app.context},t)})(ye),ge=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),ge(t,[{key:"render",value:function(){var e=this.props.data[this.props.tastic.configuration.stream];return e?a.a.createElement("div",{className:"s-text"},f.a.map(e.attributes,function(e){var t="e-content e-content__"+e.type+" e-content__"+e.type+"--"+e.attributeId;switch(e.type){case"Symbol":return a.a.createElement("h1",{className:t,key:e.attributeId},e.content);case"Text":return a.a.createElement("div",{className:t,key:e.attributeId},a.a.createElement(be,{text:e.content}));default:return a.a.createElement("div",{className:t,key:e.attributeId},e.content)}})):null}}]),t}();ve.propTypes={data:le.a.object.isRequired,tastic:le.a.object.isRequired},ve.defaultProps={};var we=ve,_e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var je=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),_e(t,[{key:"render",value:function(){var e=this.props.data[this.props.tastic.configuration.stream];return e?a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("small",null,"Showing ",e.count," results from ",e.total)),a.a.createElement("ul",null,f.a.map(e.items,function(e){return a.a.createElement("li",{key:e.contentId},a.a.createElement("a",{href:"/"},a.a.createElement("strong",null,e.name),f.a.map(e.attributes,function(e){return"Text"!==e.type?null:a.a.createElement("p",{key:e.attributeId},e.content.substr(0,200),"â€¦")})))}))):null}}]),t}();je.propTypes={data:le.a.object.isRequired,tastic:le.a.object.isRequired},je.defaultProps={};var Ee=je,Oe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Oe(t,[{key:"render",value:function(){return this.props.node.configuration.displayDescription?a.a.createElement(be,{text:this.props.node.configuration.displayDescription}):null}}]),t}();Pe.propTypes={node:le.a.object.isRequired},Pe.defaultProps={};var ke=Pe,xe=r(287),Re=r.n(xe),Te=r(248),Ce=r.n(Te),Ne=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Se=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var qe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.mediaApi=new W.MediaApi,r.state={loading:!0,error:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Se(t,[{key:"render",value:function(){var e=this,t=this.mediaApi.getImageDimensions(this.props.media,this.props.width,this.props.height,this.props.cropRatio),r=Ne(t,2),n=r[0],o=r[1];return this.state.error?a.a.createElement("img",Object.assign({style:this.props.style,width:n,height:o,alt:this.props.media.name,src:Ce.a},f.a.omit(this.props,["context","url","alt","cropRatio","width","height","dispatch","options"]))):a.a.createElement("img",Object.assign({style:this.props.style,className:this.props.className+(this.state.loading?"loading":"loaded"),onLoad:function(){e.setState({loading:!1})},width:n,height:o,alt:this.props.media.name,src:this.mediaApi.getImageLink(this.props.media,this.props.context.project.configuration,this.props.width,this.props.height,this.props.cropRatio,this.props.options),srcSet:f.a.map([1,2],function(t){return[e.mediaApi.getImageLink(e.props.media,e.props.context.project.configuration,e.props.width,e.props.height,e.props.cropRatio,e.props.options),t+"x"].join(" ")}).join(", "),onError:function(){e.setState({error:!0})}},f.a.omit(this.props,["context","media","cropRatio","width","height","dispatch","options"])))}}]),t}();qe.propTypes={context:le.a.object.isRequired,media:le.a.object.isRequired,width:le.a.number.isRequired,height:le.a.number.isRequired,style:le.a.object,cropRatio:le.a.oneOfType([le.a.string,le.a.number]),className:le.a.string,options:le.a.object},qe.defaultProps={style:{},cropRatio:null,className:""};var Fe=Object(u.b)(function(e,t){return Object.assign({},t,{context:e.app.context})})(Re()({getSize:W.MediaApi.getElementDimensions})(qe)),Ae=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var De=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=Ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.optionsFromSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.a.omit(e,["media","ratio","width","height"])},Ie(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Ae(t,[{key:"render",value:function(){if(!this.props.node.configuration.displayImage)return null;var e=this.props.node.configuration.displayImage;return a.a.createElement(Fe,{media:e.media||{},cropRatio:"5:1",options:this.optionsFromSettings(e),className:"c-hero__image"})}}]),t}();De.propTypes={node:le.a.object.isRequired},De.defaultProps={};var Me=De,Ve=r(224),Be=r.n(Ve),Le=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ze=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=Ue(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.optionsFromSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.a.omit(e,["media","ratio","width","height"])},Ue(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Le(t,[{key:"render",value:function(){var e=this.props.tastic.schema.get("image");if(!e)return null;var t=this.props.tastic.schema.get("size")||"normal",r=this.props.tastic.schema.get("verticalAlign")||"center",n=this.props.tastic.schema.get("horizontalAlign")||"center";return a.a.createElement("div",{className:"c-hero"},a.a.createElement("figure",{className:"c-hero__figure o-ratio__content"},a.a.createElement(Fe,{media:e.media||{},cropRatio:e.ratio||"1:1",options:this.optionsFromSettings(e),className:"c-hero__image"}),a.a.createElement("figcaption",{className:Be()(["c-hero__caption","c-hero__caption--"+t,"c-hero__caption--"+r,"c-hero__caption--"+n])},Object(W.getTranslation)(this.props.tastic.schema.get("caption"),this.props.context.locale,this.props.context.project.defaultLanguage).text)))}}]),t}();ze.propTypes={tastic:le.a.object.isRequired,context:le.a.object.isRequired},ze.defaultProps={};var He=Object(u.b)(function(e,t){return Object.assign({},t,{context:e.app.context})})(ze),We=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),We(t,[{key:"render",value:function(){return a.a.createElement(be,{text:this.props.tastic.schema.get("text")})}}]),t}();Ke.propTypes={tastic:le.a.object.isRequired},Ke.defaultProps={};var Ge=Ke,Je=r(441),Ze=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Ze(t,[{key:"render",value:function(){var e=f.a.omit(this.props,["route","params","router","dispatch"]),t=f.a.extend({},this.props.params);if(this.props.to||this.props.href)throw new Error("Use route parameter with Symfony route ID to link '"+(this.props.to||this.props.href)+"'");return a.a.createElement(Je.a,Object.assign({to:this.props.path||this.props.router.path(this.props.route,t)},e),this.props.children)}}]),t}();Qe.propTypes={router:le.a.object.isRequired,route:le.a.string,path:le.a.string,params:le.a.object,to:le.a.string,href:le.a.string,children:le.a.any},Qe.defaultProps={path:"",route:null,params:{}};var Ye=Object(u.b)(function(e,t){return Object.assign({},t,{router:Y.getRouter()})})(Qe),Xe=r(387),$e=r.n(Xe),et=r(386),tt=r.n(et),rt=r(285),nt=r.n(rt),at=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ot(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var it=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=ot(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.locale=function(){return n.props.context.locale.replace("_","-")},ot(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),at(t,[{key:"render",value:function(){return(this.props.value/100).toLocaleString(this.locale(),{style:"currency",currency:this.props.currency})}}]),t}();it.propTypes={context:le.a.object.isRequired,value:le.a.number.isRequired,currency:le.a.string.isRequired},it.defaultProps={value:0};var st=Object(u.b)(function(e,t){return Object.assign({context:e.app.context},t)})(it),ct=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var lt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showBasket:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),ct(t,[{key:"render",value:function(){var e=this,t=this.props.basket.getItems();return a.a.createElement(n.Fragment,null,a.a.createElement("button",{className:"c-button c-navbar__button c-cart-link","aria-label":"Mein Warenkorb",onClick:function(){e.setState({showBasket:!0})}},a.a.createElement("img",{className:"o-icon","data-icon":"cart","data-icon-size":"base",src:tt.a,alt:"Cart"}),a.a.createElement("span",{className:"c-cart-link__badge c-badge c-badge--tiny"},this.props.basket.getProductCount())),a.a.createElement("div",{className:"c-overlay"+(this.state.showBasket?" is-visible":"")},a.a.createElement("nav",{className:"c-sequential-nav","data-ft-sequential-nav":""},a.a.createElement("div",{className:"c-sequential-nav__panel c-sequential-nav__panel--level-1"},a.a.createElement("div",{className:"c-sequential-nav__header"},a.a.createElement("h3",{className:"c-sequential-nav__title"},"Mein Warenkorb"),a.a.createElement("button",{className:"c-sequential-nav__primary-action c-button",onClick:function(){e.setState({showBasket:!1})}},a.a.createElement("img",{className:"o-icon","data-icon":"cross","data-icon-size":"base",src:nt.a,alt:"Close"}))),a.a.createElement("div",{className:"c-sequential-nav__content"},a.a.createElement("table",{className:"o-table o-table--small"},a.a.createElement("tbody",null,t.length?f.a.map(t,function(e){return a.a.createElement("tr",{key:e.product.productId+"_"+e.variant.id},a.a.createElement("td",null,e.product.name),a.a.createElement("td",{align:"right"},e.count),a.a.createElement("td",{align:"right"},a.a.createElement(st,{value:e.variant.price,currency:e.variant.currency})),a.a.createElement("td",{align:"right"},a.a.createElement(st,{value:e.variant.price*e.count,currency:e.variant.currency})))}):a.a.createElement("tr",null,a.a.createElement("td",null,"Nothing in hereâ€¦"))),a.a.createElement("tfoot",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"3",align:"left"},"Sum"),a.a.createElement("th",{align:"right"},a.a.createElement(st,{currency:"EUR",value:f.a.sumBy(t,function(e){return e.variant.price*e.count})})))))),a.a.createElement("div",{className:"c-sequential-nav__footer"},a.a.createElement("button",{disabled:!0,className:"c-sequential-nav__primary-action c-button c-button--primary",onClick:function(){e.setState({showBasket:!1})}},"Checkout"))))))}}]),t}();lt.propTypes={basket:le.a.instanceOf(g).isRequired},lt.defaultProps={};var ut=Object(u.b)(function(e,t){return{basket:e.basket.basket}})(lt),pt=r(385),ft=r.n(pt),ht=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var dt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),ht(t,[{key:"render",value:function(){return a.a.createElement("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink"},f.a.omit(this.props,["icon"])),a.a.createElement("use",{xlinkHref:ft.a+"#"+this.props.icon}))}}]),t}();dt.propTypes={icon:le.a.string.isRequired,className:le.a.string},dt.defaultProps={className:"o-icon"};var mt=dt,yt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var bt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showChildNavigation:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),yt(t,[{key:"render",value:function(){var e=this;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"c-sequential-nav__panel c-sequential-nav__panel--level-"+this.props.level+(this.props.pulledLeft?" is-pulled-left":"")},a.a.createElement("div",{className:"c-sequential-nav__header"},this.props.root.name?a.a.createElement("h3",{className:"c-sequential-nav__title"},this.props.root.name):null,a.a.createElement("button",{className:"c-sequential-nav__primary-action c-button",onClick:this.props.onClose},a.a.createElement(mt,{icon:1===this.props.level?"cross":"arrow-left"}))),a.a.createElement("div",{className:"c-sequential-nav__content"},a.a.createElement("ul",{className:"c-tableview"},f.a.map(this.props.root.children,function(t){return a.a.createElement("li",{key:t.nodeId,className:"c-tableview__cell"},a.a.createElement(Ye,{className:"c-tableview__link"+(t.configuration.displayHighlightMenuItem?" c-tableview__link--primary":""),route:"node_"+t.nodeId},t.name),t.children.length?a.a.createElement("button",{className:"c-button c-tableview__button c-tableview__button--deep",onClick:function(){e.setState({showChildNavigation:t.nodeId})}},a.a.createElement(mt,{icon:"chevron-right"})):null)})))),f.a.map(this.props.root.children,function(r){return r.children.length?a.a.createElement(t,{key:"subtree_"+r.nodeId,root:r,level:e.props.level+1,pulledLeft:e.state.showChildNavigation===r.nodeId,onClose:function(){e.setState({showChildNavigation:null})}}):null}))}}]),t}();bt.propTypes={root:le.a.object.isRequired,onClose:le.a.func.isRequired,pulledLeft:le.a.bool,level:le.a.number},bt.defaultProps={pulledLeft:!1,level:1};var gt=bt,vt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var wt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showNavigation:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),vt(t,[{key:"componentDidMount",value:function(){var e=this.props.tastic.schema.get("root");e&&Y.getLoader("node").loadTree({root:e,depth:this.props.tastic.schema.get("depth")})}},{key:"render",value:function(){var e=this,t=this.props.tastic.schema.get("logo")||null;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"c-navbar"},a.a.createElement("button",{className:"c-button",disabled:!this.props.tree.isComplete()||!this.props.tree.data.children.length,onClick:function(){e.setState({showNavigation:!0})}},a.a.createElement(mt,{icon:"menu"})),a.a.createElement(Ye,{path:"/",className:"c-logo c-navbar__logo"},t&&t.media?a.a.createElement("img",{className:"c-navbar__logo-image",src:t.media.file,alt:"Frontastic"}):a.a.createElement("img",{className:"c-navbar__logo-image",src:$e.a,alt:"Frontastic"})),this.props.tastic.schema.get("showSearch")?a.a.createElement("button",{className:"c-button c-navbar__button",disabled:!0},a.a.createElement(mt,{icon:"search"})):null,this.props.tastic.schema.get("showBasket")?a.a.createElement(ut,null):null,this.props.tree.isComplete()&&this.props.tree.data.children.length?a.a.createElement("div",{className:"c-overlay"+(this.state.showNavigation?" is-visible":"")},a.a.createElement("nav",{className:"c-sequential-nav","data-ft-sequential-nav":""},a.a.createElement(gt,{root:this.props.tree.data,onClose:function(){e.setState({showNavigation:!1})}}))):null),a.a.createElement("div",{className:"c-navbar__spacing"}))}}]),t}();wt.propTypes={tree:le.a.object.isRequired,data:le.a.object.isRequired,tastic:le.a.object.isRequired},wt.defaultProps={};var _t=Object(u.b)(function(e,t){return Object.assign({},t,{tree:e.node.trees[t.tastic.configuration.root||"root"]||new y})})(wt),jt=function(e,t){var r=t.data[t.tastic.configuration.stream];if(!r)return console.warn("No product could be found in streams"),Object.assign({},t);var n=e.app.route.get("_variant",0),a=r.variants[n]||null;return a?(a.originalPrice=Math.round(a.price*(r.name.charCodeAt(1)%4)),Object.assign({},t,{product:r,variant:a,selectedVariant:+n})):(console.warn("Product variants are always required"),Object.assign({},t))},Et=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Et(t,[{key:"render",value:function(){if(!this.props.product||!this.props.variant)return null;var e=this.props.tastic.schema.get("level");return a.a.createElement("div",{className:"c-page-section"},a.a.createElement(e,{className:"c-heading-gamma"},this.props.product.name))}}]),t}();Ot.propTypes={tastic:le.a.object.isRequired,product:le.a.object,variant:le.a.object},Ot.defaultProps={product:null,variant:null};var Pt=Object(u.b)(jt)(Ot),kt=r(384),xt=r.n(kt),Rt=r(372),Tt=r.n(Rt),Ct=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Nt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.componentDidMount=function(){r.flickity=new xt.a(r.refs.carousel,f.a.extend({cellSelector:".c-slider__item",cellAlign:"left",pageDots:!1,prevNextButtons:!1,contain:!0,draggable:">1"},r.props.options)),r.flickity.on("cellSelect",r.updateSelected),r.props.imagesLoaded&&Tt()(r.refs.carousel,function(){r.flickity.resize()})},r.componentDidUpdate=function(){r.flickity.reloadCells(),r.props.imagesLoaded&&Tt()(r.refs.carousel,function(){r.flickity.resize()})},r.componentWillUnmount=function(){r.flickity&&(r.flickity.off("cellSelect",r.updateSelected),r.flickity.destroy())},r.componentDidCatch=function(e,t){r.setState({selected:0,error:e})},r.updateSelected=function(){r.setState({selected:r.flickity.selectedIndex})},r.state={selected:0,error:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Ct(t,[{key:"render",value:function(){return a.a.createElement("div",{className:this.props.className,ref:"carousel"},a.a.createElement("div",{className:"flickity-viewport"},a.a.createElement("div",{className:"flickity-slider"},this.props.children)))}}]),t}();Nt.propTypes={imagesLoaded:le.a.bool,options:le.a.object,className:le.a.string,children:le.a.array},Nt.defaultProps={imagesLoaded:!0,options:{},className:"c-slider js-slider"};var St=Nt,qt=r(371),Ft=r.n(qt),At=r(370),It=r.n(At),Dt=r(369),Mt=r.n(Dt),Vt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Bt=0,Lt=0,Ut=1,zt=function(e,t,r){return e>t-r&&e<t||e<t+r&&e>t?t:e},Ht=function(e){return-1*e},Wt=function(e,t){var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},Kt=function(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))},Gt=function(e,t,r){return Math.min(t,Math.max(e,r))},Jt=function(e,t,r){return e<t?Gt(e,t,r):Gt(t,e,r)},Zt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Qt.call(r),r.state={x:Bt,y:Lt,scale:Ut,width:e.width,height:e.height},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Vt(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{ref:function(t){e.container=t},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onWheel:this.handleWheel,style:{overflow:"hidden",width:this.props.width,height:this.props.height}},this.props.children(this.state.x,this.state.y,this.state.scale),a.a.createElement("div",{className:"c-button-overlay"},a.a.createElement("button",{onClick:function(){e.handleClick(!0)},className:"c-button u-margin-bottom-tiny c-button--small"},a.a.createElement("img",{src:It.a,width:"24",height:"24",alt:"Zoom In"})),a.a.createElement("button",{onClick:function(){e.handleClick(!1)},className:"c-button u-margin-bottom-tiny c-button--small"},a.a.createElement("img",{src:Ft.a,width:"24",height:"24",alt:"Zoom Out"})),a.a.createElement("button",{className:"c-button u-margin-bottom-tiny c-button--small",onClick:function(){e.reset()}},a.a.createElement("img",{src:Mt.a,width:"24",height:"24",alt:"Reset Zoom"}))))}}]),t}(),Qt=function(){var e=this;this.componentWillReceiveProps=function(t){e.setState({x:Bt,y:Lt,scale:Ut,width:t.width,height:t.height})},this.zoomTo=function(t,r){e.animation=requestAnimationFrame(function n(){if(e.state.scale===t)return null;var a=t-e.state.scale,o=e.state.scale+.04*a;e.zoom(zt(o,t,.001),r),e.animation=requestAnimationFrame(n)})},this.reset=function(){e.animation=requestAnimationFrame(function t(){if(e.state.scale===Ut&&e.state.x===Bt&&e.state.y===Lt)return null;var r=Ut-e.state.scale,n=Bt-e.state.x,a=Lt-e.state.y,o=zt(e.state.scale+.16*r,Ut,.001),i=zt(e.state.x+.16*n,Bt,.001),s=zt(e.state.y+.16*a,Lt,.001),c=e.props.width*o,l=e.props.height*o;e.setState({x:i,y:s,scale:o,width:c,height:l},function(){e.animation=requestAnimationFrame(t)})})},this.handleTouchStart=function(t){e.animation&&cancelAnimationFrame(e.animation),2===t.touches.length&&e.handlePinchStart(t),1===t.touches.length&&e.handleTapStart(t)},this.handleTouchMove=function(t){2===t.touches.length&&e.handlePinchMove(t),1===t.touches.length&&e.handlePanMove(t)},this.handleTouchEnd=function(t){return t.touches.length>0?null:e.state.scale>4?e.zoomTo(4,e.lastMidpoint):e.state.scale<1?e.zoomTo(1,e.lastMidpoint):(e.lastTouchEnd&&e.lastTouchEnd+300>t.timeStamp&&e.reset(),void(e.lastTouchEnd=t.timeStamp))},this.handleTapStart=function(t){e.lastPanPoint=Wt(t.touches[0],e.container)},this.handlePanMove=function(t){if(1===e.state.scale)return null;t.preventDefault();var r=Wt(t.touches[0],e.container),n=e.state.x+r.x-e.lastPanPoint.x,a=e.state.y+r.y-e.lastPanPoint.y;e.setState({x:Gt(e.props.width-e.state.width,0,n),y:Gt(e.props.height-e.state.height,0,a)}),e.lastPanPoint=r},this.handlePinchStart=function(t){var r=Wt(t.touches[0],e.container),n=Wt(t.touches[1],e.container);e.lastDistance=Kt(r,n)},this.handlePinchMove=function(t){t.preventDefault();var r=Wt(t.touches[0],e.container),n=Wt(t.touches[1],e.container),a=Kt(r,n),o=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}(r,n),i=Gt(.8,4.2,e.state.scale*(a/e.lastDistance));e.zoom(i,o),e.lastMidpoint=o,e.lastDistance=a},this.handleWheel=function(t){t.preventDefault(),t.stopPropagation();var r=Wt(t,e.container),n=Gt(.8,4.2,e.state.scale*(1-t.deltaY/100));e.zoom(n,r),e.lastMidpoint=r,e.lastDistance=0},this.handleClick=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r={x:e.props.width/2,y:e.props.height/2};e.zoom(e.state.scale*(t?1.5:.75),r),e.lastMidpoint=r,e.lastDistance=0},this.zoom=function(t,r){var n=e.props.width*t,a=e.props.height*t,o=e.state.x+Ht(r.x*t)*(n-e.state.width)/n,i=e.state.y+Ht(r.y*t)*(a-e.state.height)/a;e.setState({width:n,height:a,x:Jt(0,e.props.width-n,o),y:Jt(0,e.props.height-a,i),scale:t})}};Zt.propTypes={children:le.a.func.isRequired,width:le.a.number.isRequired,height:le.a.number.isRequired};var Yt=Zt,Xt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var er=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.mediaApi=new W.MediaApi,r.state={loading:!0,error:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),$t(t,[{key:"render",value:function(){var e=this,t=this.mediaApi.getImageDimensions(this.props.url,this.props.width,this.props.height,this.props.cropRatio),r=Xt(t,2),n=r[0],o=r[1];return this.state.error?a.a.createElement("img",Object.assign({style:this.props.style,width:n,height:o,alt:this.props.alt,src:Ce.a},f.a.omit(this.props,["context","url","alt","cropRatio","width","height","dispatch","options"]))):a.a.createElement("img",Object.assign({style:this.props.style,className:this.state.loading?"loading":"loaded",onLoad:function(){e.setState({loading:!1})},width:n,height:o,alt:this.props.alt,src:this.mediaApi.getImageLink(this.props.url,this.props.context.project.configuration,this.props.width,this.props.height,this.props.cropRatio,this.props.options),srcSet:f.a.map([1,2],function(t){return[e.mediaApi.getImageLink(e.props.url,e.props.context.project.configuration,e.props.width,e.props.height,e.props.cropRatio,e.props.options),t+"x"].join(" ")}).join(", "),onError:function(){e.setState({error:!0})}},f.a.omit(this.props,["context","url","alt","cropRatio","width","height","dispatch","options"])))}}]),t}();er.propTypes={context:le.a.object.isRequired,url:le.a.string.isRequired,alt:le.a.string.isRequired,width:le.a.number.isRequired,height:le.a.number.isRequired,style:le.a.object,cropRatio:le.a.oneOfType([le.a.string,le.a.number]).isRequired,options:le.a.object},er.defaultProps={style:{},cropRatio:null};var tr=Object(u.b)(function(e,t){return Object.assign({},t,{context:e.app.context})})(Re()({getSize:W.MediaApi.getElementDimensions})(er)),rr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var nr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.componentDidMount=function(){r.setState({width:r.refs.section.clientWidth})},r.state={width:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),rr(t,[{key:"render",value:function(){var e=this;if(!this.props.product||!this.props.variant)return null;var t=f.a.uniq(f.a.flatten(f.a.map(this.props.product.variants,"images")));return t.length||t.push(Ce.a),a.a.createElement("div",{className:"c-page-section",ref:"section"},a.a.createElement(St,null,f.a.map(t,function(t){return a.a.createElement("figure",{className:"c-slider__item js-slider__item c-figure",key:t},e.state.width?a.a.createElement(Yt,{width:e.state.width,height:e.state.width/3*2},function(r,n,o){return a.a.createElement(tr,{style:{pointerEvents:1===o?"auto":"none",transform:"translate3d("+r+"px, "+n+"px, 0) scale("+o+")",transformOrigin:"0 0"},className:"c-teaser__image",url:t,alt:e.props.product.name,cropRatio:"3:2",options:{crop:"pad",background:"white"}})}):null)})))}}]),t}();nr.propTypes={product:le.a.object,variant:le.a.object},nr.defaultProps={product:null,variant:null};var ar=Object(u.b)(jt)(nr),or=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),or(t,[{key:"render",value:function(){if(!this.props.product||!this.props.variant)return null;var e=this.props.tastic.schema.get("showPercent"),t=this.props.tastic.schema.get("showStrikePrice"),r=this.props.variant.originalPrice>this.props.variant.price;return a.a.createElement("div",{className:"c-page-section"},a.a.createElement("ul",{className:"c-price-list"},a.a.createElement("li",{className:"c-price-list__item"},a.a.createElement("span",{className:Be()({"c-price":!0,"u-text-l":!0,"c-price--highlight":r&&(e||t)})},a.a.createElement(st,{value:this.props.variant.price,currency:this.props.variant.currency}))),this.props.variant.originalPrice&&this.props.variant.originalPrice>this.props.variant.price?a.a.createElement(n.Fragment,null,t?a.a.createElement("li",{className:"c-price-list__item"},a.a.createElement("span",{className:"c-price  c-price--old"},a.a.createElement("del",null,a.a.createElement(st,{value:this.props.variant.originalPrice,currency:this.props.variant.currency})))):null,e?a.a.createElement("li",{className:"c-price-list__item"},a.a.createElement("span",{className:"c-highlight"},"Save ",100-Math.ceil(this.props.variant.price/this.props.variant.originalPrice*100)," %")):null):null))}}]),t}();ir.propTypes={tastic:le.a.object.isRequired,product:le.a.object,variant:le.a.object},ir.defaultProps={product:null,variant:null};var sr=Object(u.b)(jt)(ir),cr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var lr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r.selectVariant=function(e){var t=f.a.extend({},r.props.route.parameters,{_variant:e});Y.getRouter().replace(r.props.route.route,t)},r.addToCart=function(e){Y.getLoader("basket").add(r.props.product,r.props.variant,1),r.setState({indicateBaskedAdded:!0},f.a.debounce(function(){r.setState({indicateBaskedAdded:!1})},600))},r.getVariantAttributes=function(){var e={},t=!0,n=!1,a=void 0;try{for(var o,i=r.props.product.variants[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;for(var c in s.attributes)e[c]||(e[c]=[]),e[c].push(s.attributes[c])}}catch(e){n=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw a}}return f.a.keys(f.a.pickBy(f.a.mapValues(e,f.a.uniq),function(e){return e.length>1}))},r.state={indicateBaskedAdded:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),cr(t,[{key:"render",value:function(){var e=this;if(!this.props.product||!this.props.variant)return null;var t=this.props.tastic.schema.get("showVariants")||!0,r=this.props.tastic.schema.get("showNameInVariants")||!1,n=this.props.tastic.schema.get("showPriceInVariants")||!0,o=f.a.intersection(this.getVariantAttributes(),this.props.tastic.schema.get("variantAttributes")||["color","size","style"]);return a.a.createElement("div",{className:"c-page-section"},a.a.createElement(mt,{className:Be()("o-icon  c-figure__icon  c-badge  c-badge--invert",{"fade-exiting":!this.state.indicateBaskedAdded,"fade-appeared":this.state.indicateBaskedAdded}),icon:"check","data-icon-size":"xxl"}),a.a.createElement("form",{className:"c-form",action:""},t||this.props.product.variants.length>1?a.a.createElement("div",{className:"c-form__item"},a.a.createElement("select",{className:"c-form__select",value:this.props.selectedVariant,onChange:function(t){e.selectVariant(t.currentTarget.value)}},f.a.map(this.props.product.variants,function(t,i){return a.a.createElement("option",{value:i,key:i},r?e.props.product.name+" ":null,f.a.map(o,function(r){return e.ucfirst(r)+": "+t.attributes[r]}).join("; "),n?" â€“ "+(t.price/100).toLocaleString(e.props.context.locale.replace("_","-"),{style:"currency",currency:t.currency}):null)}))):null,a.a.createElement("div",{className:"c-form__item"},a.a.createElement("button",{disabled:!this.props.variant.isOnStock,className:"c-button  c-button--primary  c-button--full",onClick:function(t){t.preventDefault(),e.addToCart(e.props.selectedVariant)}},"Add to cart"))))}}]),t}();lr.propTypes={context:le.a.object.isRequired,route:le.a.object.isRequired,tastic:le.a.object.isRequired,product:le.a.object,variant:le.a.object,selectedVariant:le.a.number},lr.defaultProps={product:null,variant:null,selectVariant:0};var ur=Object(u.b)(function(e,t){return Object.assign({context:e.app.context,route:e.app.route},t)})(Object(u.b)(jt)(lr)),pr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var fr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),pr(t,[{key:"ucFirst",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){var e=this;if(!this.props.product)return null;if(this.props.variant&&!this.props.product.description){return a.a.createElement("div",{className:"s-text"},a.a.createElement("ul",null,f.a.map(["color","designer","size","style"],function(t){return e.props.variant.attributes[t]?a.a.createElement("li",{key:t},a.a.createElement("strong",null,e.ucFirst(t)),": ",e.props.variant.attributes[t]):null})))}return a.a.createElement(be,{text:this.props.product.description})}}]),t}();fr.propTypes={product:le.a.object,variant:le.a.object},fr.defaultProps={product:null,variant:null};var hr=Object(u.b)(jt)(fr),dr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),dr(t,[{key:"render",value:function(){return a.a.createElement(n.Fragment,null,a.a.createElement(ar,{data:this.props.data,tastic:this.props.tastic}),a.a.createElement(Pt,{data:this.props.data,tastic:this.props.tastic}),a.a.createElement(sr,{data:this.props.data,tastic:this.props.tastic}),a.a.createElement(ur,{data:this.props.data,tastic:this.props.tastic}),a.a.createElement(hr,{data:this.props.data,tastic:this.props.tastic}))}}]),t}();mr.propTypes={data:le.a.object.isRequired,tastic:le.a.object.isRequired},mr.defaultProps={};var yr=mr,br=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),br(t,[{key:"render",value:function(){if(!this.props.product||!this.props.variant||!this.props.variant.attributes.designer)return null;var e=this.props.tastic.schema.get("level");return a.a.createElement("div",{className:"c-page-section"},a.a.createElement(e,{className:"c-heading-zeta"},this.props.variant.attributes.designer))}}]),t}();gr.propTypes={tastic:le.a.object.isRequired,product:le.a.object,variant:le.a.object},gr.defaultProps={product:null,variant:null};var vr=Object(u.b)(jt)(gr),wr=r(368),_r=r.n(wr),jr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Er(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Or=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=Er(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.getNextOrderTime=function(){var e=new Date;return e.setHours(17),e.setMinutes(0),e<new Date&&e.setDate(e.getDate()+1),e},n.getNextDeliveryDay=function(){var e=new Date;for(e.setDate(e.getDate()+2);e.getDay()<2;)e.setDate(e.getDate()+2);return e},Er(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),jr(t,[{key:"render",value:function(){return this.props.variant?this.props.variant.isOnStock?a.a.createElement("div",{className:"o-layout o-layout-small"},a.a.createElement("div",{className:"o-layout__item u-1/4",align:"right"},a.a.createElement("img",{src:_r.a,alt:"Fast Delivery"})),a.a.createElement("div",{className:"o-layout__item u-3/4"},a.a.createElement("p",null,a.a.createElement("strong",null,"Express Delivery"),": Order in the next ",a.a.createElement("em",null,a.a.createElement(X.b,{value:this.getNextOrderTime()}))," for a delivery until ",a.a.createElement("em",null,a.a.createElement(X.a,{value:this.getNextDeliveryDay(),day:"numeric",month:"long"})),"."))):a.a.createElement("p",null,"Variant sold out right now."):null}}]),t}();Or.propTypes={variant:le.a.object},Or.defaultProps={variant:null};var Pr=Object(u.b)(jt)(Or),kr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),kr(t,[{key:"render",value:function(){var e=this.props.product,t=this.props.variant||e.variants[0];t.originalPrice=Math.round(t.price*(e.name.charCodeAt(1)%4));var r=t.originalPrice>t.price;return a.a.createElement("article",{className:"c-teaser  o-block",itemScope:!0,itemType:"http://schema.org/Product"},a.a.createElement(Ye,{itemProp:"url",className:"c-teaser__full-link",route:"Frontastic.Frontend.Master.Product.view",params:{id:e.productId,slug:e.slug}},a.a.createElement("figure",{className:"c-teaser__figure  o-block__figure"},a.a.createElement(tr,{className:"c-teaser__image",url:t.images[0]||Ce.a,alt:e.name,cropRatio:"1:1",itemProp:"image",options:{crop:"pad",background:"white"}})),a.a.createElement("div",{className:"o-block__body"},a.a.createElement("div",{className:"c-teaser__body"},a.a.createElement("div",{className:"c-teaser__caption"},a.a.createElement("h3",{className:"c-teaser__title  c-heading-teaser",itemProp:"name"},e.name),t.attributes.designer?a.a.createElement("div",{className:"c-heading-teaser-subheading"},t.attributes.designer):null),a.a.createElement("div",{className:"c-teaser__prices",itemScope:!0,itemType:"http://schema.org/Offer"},a.a.createElement("span",{itemProp:"price",className:Be()({"c-teaser__price":!0,"c-price":!0,"c-price--highlight":r&&(this.props.showPercent||this.props.showStrikePrice)})},a.a.createElement(st,{value:t.price,currency:t.currency})),r&&this.props.showStrikePrice?a.a.createElement("span",{className:"c-price  c-price--old"},a.a.createElement("del",null,a.a.createElement(st,{value:t.originalPrice,currency:t.currency}))):null,r&&this.props.showPercent?a.a.createElement("span",{className:"c-highlight"},"-Â ",100-Math.ceil(t.price/t.originalPrice*100),"%"):null)))))}}]),t}();xr.propTypes={product:le.a.object.isRequired,variant:le.a.object,showStrikePrice:le.a.bool,showPercent:le.a.bool},xr.defaultProps={showStrikePrice:!0,showPercent:!0,variant:null};var Rr=xr,Tr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Cr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Tr(t,[{key:"render",value:function(){var e=this.props.data[this.props.tastic.configuration.stream];if(!e)return null;var t=this.props.tastic.schema.get("showPercent")||!0,r=this.props.tastic.schema.get("showStrikePrice")||!0;return a.a.createElement("div",{className:"o-layout"},f.a.map(e.items,function(e){return a.a.createElement("div",{key:e.productId,className:"o-layout__item u-1/2 u-1/3@lap u-1/4@desk"},a.a.createElement(Rr,{product:e,showPercent:t,showStrikePrice:r}))}))}}]),t}();Cr.propTypes={data:le.a.object.isRequired,tastic:le.a.object.isRequired},Cr.defaultProps={};var Nr=Cr,Sr=r(367),qr=r.n(Sr),Fr=(r(366),r(295)),Ar=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Ir=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Dr.call(r),r.state={range:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["PureComponent"]),Ar(t,[{key:"render",value:function(){var e=this,t=this.props.facet.min,r=this.props.facet.max,n=this.props.facet.step||1;return a.a.createElement("div",{className:"c-range-selector"},a.a.createElement("form",{className:"c-form",action:""},a.a.createElement("div",{className:"c-range-selector__text-fields"},a.a.createElement("div",{className:"c-form__item-inline"},a.a.createElement("input",{name:"price-range-min",type:"number",className:"c-form__input-text",value:(this.state.range[0]/100).toFixed(2),min:t/100,max:this.state.range[1]/100,step:n/100,onChange:this.updateLower})),a.a.createElement("div",{className:"c-form__item-inline"},a.a.createElement("input",{name:"price-range-max",type:"number",className:"c-form__input-text",value:(this.state.range[1]/100).toFixed(2),min:this.state.range[0]/100,max:r/100,step:n/100,onChange:this.updateUpper}))),a.a.createElement("div",{className:"c-form__item"},a.a.createElement(Fr.a,{min:t,max:r,step:n,value:this.state.range,allowCross:!1,onChange:function(t){e.updateRange(t)},trackStyle:[{backgroundColor:"black"},{backgroundColor:"black"}],handleStyle:[{borderColor:"black"},{borderColor:"black"}],railStyle:{backgroundColor:"grey"}}))))}}]),t}();Ir.getDerivedStateFromProps=function(e,t){return t.range&&e.valueFromTastic?null:{range:[f.a.toInteger((e.facetValue||{}).min||e.facet.min),f.a.toInteger((e.facetValue||{}).max||e.facet.max)]}};var Dr=function(){var e=this;this.updateRange=function(t){e.setState({range:f.a.cloneDeep(t)},e.updateFacet)},this.updateLower=function(t){var r=f.a.cloneDeep(e.state.range);r[0]=Math.floor(100*t.currentTarget.value),e.updateRange(r)},this.updateUpper=function(t){var r=f.a.cloneDeep(e.state.range);r[1]=Math.ceil(100*t.currentTarget.value),e.updateRange(r)},this.updateFacet=f.a.debounce(function(){f.a.isEqual(e.state.range,[e.props.facet.min,e.props.facet.max])?e.props.removeFacetValue(e.props.facet):e.props.selectFacetValue(e.props.facet,{min:e.state.range[0],max:e.state.range[1]})},100)};Ir.propTypes={facet:le.a.object.isRequired,facetValue:le.a.object,valueFromTastic:le.a.bool,selectFacetValue:le.a.func.isRequired,removeFacetValue:le.a.func.isRequired},Ir.defaultProps={valueFromTastic:!1};var Mr=Ir,Vr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Vr(t,[{key:"render",value:function(){return a.a.createElement(n.Fragment,null,a.a.createElement("span",null,this.props.name||this.props.facet.key),this.props.facet.selected?a.a.createElement("span",null,a.a.createElement("span",null," ("),a.a.createElement(st,{value:parseInt(this.props.facet.value.min,10),currency:"EUR"}),a.a.createElement("span",null," - "),a.a.createElement(st,{value:parseInt(this.props.facet.value.max,10),currency:"EUR"}),a.a.createElement("span",null,")")):null)}}]),t}();Br.propTypes={facet:le.a.object.isRequired,name:le.a.string},Br.defaultProps={};var Lr=Br;var Ur=function(e,t,r,n){var a=f.a.filter(e.terms,{selected:!0});f.a.includes(a,t)?f.a.pull(a,t):a.push(t),a.length?r(e,{terms:f.a.map(a,function(e){return e.handle})}):n(e)},zr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),zr(t,[{key:"render",value:function(){var e=this,t=this.props.facet;return a.a.createElement("ul",{className:"c-tableview"},f.a.map(t.terms,function(r){return a.a.createElement("li",{key:r.handle,className:"c-tableview__cell"},a.a.createElement("button",{className:"c-button c-tableview__button"+(r.selected?" is-active":""),onClick:function(){Ur(t,r,e.props.selectFacetValue,e.props.removeFacetValue)}},r.name))}))}}]),t}();Hr.propTypes={facet:le.a.object.isRequired,selectFacetValue:le.a.func.isRequired,removeFacetValue:le.a.func.isRequired},Hr.defaultProps={};var Wr=Hr,Kr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Gr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Jr=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=Gr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.renderSelectionPreview=function(e){var t=f.a.map(f.a.filter(e,"selected"),function(e){return e.name});return f.a.slice(t,0,3).join(", ")+(t.length>3?", â€¦":"")},Gr(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Kr(t,[{key:"render",value:function(){return a.a.createElement(n.Fragment,null,this.props.name||this.props.facet.key,this.props.facet.selected?" ("+this.renderSelectionPreview(this.props.facet.terms)+")":null)}}]),t}();Jr.propTypes={facet:le.a.object.isRequired,name:le.a.string},Jr.defaultProps={};var Zr=Jr,Qr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Yr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.facetMap={"variants.attributes.style.key":{name:"Style",selector:Wr,title:Zr},"variants.price.centAmount":{name:"Price",selector:Mr,title:Lr},"variants.attributes.gender.key":{name:"Gender",selector:Wr,title:Zr},"variants.attributes.designer":{name:"Designer",selector:Wr,title:Zr},"variants.attributes.color.key":{name:"Color",selector:Wr,title:Zr}},r.getFacetValue=function(e){return r.props.facetValues[e.handle]||null},r.renderFacetPane=function(e){var t=r.facetMap[e.key].selector;return a.a.createElement("div",{key:"details-"+e.handle,className:"c-sequential-nav__panel c-sequential-nav__panel--level-2"+(r.state.displayFacetDetails===e.key?" is-pulled-left":"")},a.a.createElement("div",{className:"c-sequential-nav__header"},a.a.createElement("h3",{className:"c-sequential-nav__title"},r.facetMap[e.key].name),a.a.createElement("button",{className:"c-sequential-nav__primary-action c-button",onClick:r.closeFacet},a.a.createElement("img",{className:"o-icon","data-icon":"cross","data-icon-size":"base",src:qr.a,alt:"Return"}))),a.a.createElement("div",{className:"c-sequential-nav__content"},a.a.createElement(t,{facet:e,facetValue:r.getFacetValue(e),valueFromTastic:r.props.valuesFromTastic,selectFacetValue:r.props.selectFacetValue,removeFacetValue:r.props.removeFacetValue})))},r.showFacet=function(e){r.setState({displayFacetDetails:e.key})},r.closeFacet=function(){r.setState({displayFacetDetails:null})},r.state={displayFacetDetails:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Qr(t,[{key:"render",value:function(){var e=this,t=f.a.filter(this.props.facets,function(t){return e.facetMap[t.key]});return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"c-overlay"+(this.props.show?" is-visible c-overlay-outsidevabar-isvisible":"")},a.a.createElement("nav",{className:"c-sequential-nav","data-ft-sequential-nav":""},a.a.createElement("div",{className:"c-sequential-nav__panel c-sequential-nav__panel--level-1"},a.a.createElement("div",{className:"c-sequential-nav__header"},a.a.createElement("h3",{className:"c-sequential-nav__title"},"Filter"),a.a.createElement("button",{className:"c-sequential-nav__primary-action c-button",onClick:this.props.onClose},a.a.createElement("img",{className:"o-icon","data-icon":"cross","data-icon-size":"base",src:nt.a,alt:"Close"}))),a.a.createElement("div",{className:"c-sequential-nav__content"},a.a.createElement("ul",{className:"c-tableview"},f.a.map(t,function(t){var r=e.facetMap[t.key].title,n=e.facetMap[t.key].name||null;return a.a.createElement("li",{key:t.handle,className:"c-tableview__cell"},a.a.createElement("button",{className:"c-button c-tableview__button"+(t.selected?" is-active":""),onClick:function(){e.showFacet(t)}},a.a.createElement(r,{facet:t,facetValue:e.getFacetValue(t),name:n})))})))),f.a.map(t,this.renderFacetPane))))}}]),t}();Yr.propTypes={facets:le.a.array.isRequired,facetValues:le.a.object.isRequired,valuesFromTastic:le.a.bool.isRequired,show:le.a.bool.isRequired,onClose:le.a.func.isRequired,selectFacetValue:le.a.func.isRequired,removeFacetValue:le.a.func.isRequired},Yr.defaultProps={show:!1};var Xr=Yr,$r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var en=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.componentDidMount=function(){r.replaceUrl(r.getCurrentStreamParameters())},r.getFacetValues=function(e){return r.props.streamParameters[e]&&r.props.streamParameters[e].facets||{}},r.selectFacetValue=function(e,t){var n=r.getCurrentStreamParameters();f.a.set(n,[r.props.tastic.configuration.stream,"facets",e.handle],f.a.extend({type:e.type,handle:e.handle},t)),r.updateUrl(n)},r.removeFacetValue=function(e){var t=r.getCurrentStreamParameters();f.a.unset(t,[r.props.tastic.configuration.stream,"facets",e.handle]),r.updateUrl(t)},r.updateUrl=function(e){var t=r.deriveRouteParameters({s:e});Y.getRouter().push(r.props.route.route,t,{comeFromTastic:!0})},r.replaceUrl=function(e){var t=r.deriveRouteParameters({s:e});Y.getRouter().replace(r.props.route.route,t,{comeFromTastic:!0})},r.deriveRouteParameters=function(e){return f.a.extend({},f.a.omit(r.props.route.parameters,["nodeId","environment","project","locale"]),e)},r.getCurrentStreamParameters=function(){return f.a.cloneDeep(r.props.route.parameters.s||{})},r.closeFilterSelection=function(){r.setState({showFilterSelection:!1})},r.showFilterSelection=function(){r.setState({showFilterSelection:!0})},r.renderCategorySelector=function(e){var t=r.getCategoryFacet(e.facets);return a.a.createElement("div",{className:"c-filter-bar"},a.a.createElement("fieldset",{className:"c-filter-bar__scrollable"},f.a.map(r.filterCategoryTerms(t.terms),function(e){return a.a.createElement("label",{key:e.handle,className:"c-filter-bar__item",htmlFor:"filter-"+e.handle},a.a.createElement("input",{className:"u-hidden-visually",name:"filter-checkboxes",type:"checkbox",id:"filter-"+e.handle,value:e.selected,onChange:function(n){Ur(t,e,r.selectFacetValue,r.removeFacetValue)}}),a.a.createElement("span",{className:"c-filter-bar__button"},e.name))})))},r.filterCategoryTerms=function(e){return f.a.uniqBy(e,"name")},r.getCategoryFacet=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null,n=0;n<e.length&&"category_tree_terms"!==(r=e[n]).key;n++);if(!r)throw new Error("No category facet found");return f.a.remove(r.terms,function(e){return"_"===e.value}),r.terms=f.a.take(f.a.reverse(f.a.sortBy(r.terms,"count")),t),r},r.state={showFilterSelection:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),$r(t,[{key:"render",value:function(){var e=this.props.data[this.props.tastic.configuration.stream];return e&&e.facets&&0!==e.facets.length?a.a.createElement(n.Fragment,null,this.renderCategorySelector(e),a.a.createElement("button",{className:"c-button  c-button--secondary  c-button--full u-margin-bottom","data-ft-sequential-nav-controls":"js-ft-sequential-nav-filter",onClick:this.showFilterSelection},a.a.createElement(mt,{icon:"sliders"}),a.a.createElement("span",null,"Filter")),a.a.createElement(Xr,{onClose:this.closeFilterSelection,facets:e.facets,show:this.state.showFilterSelection,selectFacetValue:this.selectFacetValue,removeFacetValue:this.removeFacetValue,facetValues:this.getFacetValues(this.props.tastic.configuration.stream),valuesFromTastic:!!this.props.route.historyState&&this.props.route.historyState.comeFromTastic})):(console.warn("Product list does not contain facets. Won't display filter tastic."),null)}}]),t}();en.propTypes={data:le.a.object.isRequired,tastic:le.a.object.isRequired,route:le.a.object.isRequired,streamParameters:le.a.object.isRequired},en.defaultProps={};var tn=Object(u.b)(function(e,t){var r=e.app.route.parameters.s||{};return Object.assign({},t,{route:e.app.route,streamParameters:r})})(en),rn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),rn(t,[{key:"render",value:function(){var e=this.props.data[this.props.tastic.configuration.stream];if(!e)return null;var t=f.a.take(e.items,this.props.tastic.schema.get("productCount")),r=this.props.tastic.schema.get("showPercent")||!0,n=this.props.tastic.schema.get("showStrikePrice")||!0;return a.a.createElement(St,null,f.a.map(t,function(e){return a.a.createElement("div",{className:"c-slider__item  js-slider__item  u-3/4  u-2/5@lap  u-2/7@desk",key:e.productId},a.a.createElement(Rr,{product:e,showPercent:r,showStrikePrice:n}))}))}}]),t}();nn.propTypes={data:le.a.object.isRequired,tastic:le.a.object.isRequired},nn.defaultProps={};var an=nn,on=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),on(t,[{key:"componentDidMount",value:function(){var e=this.props.tastic.schema.get("teaser");e&&Y.getLoader("data").get({app:"teaser",dataId:e})}},{key:"optionsFromSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.a.omit(e,["media","ratio","width","height"])}},{key:"render",value:function(){if(!this.props.teaser.isComplete())return null;var e=this.props.teaser.data;return a.a.createElement("div",{className:"o-layout"},a.a.createElement("div",{className:"o-layout__item u-1/2@lap",style:{marginBottom:"1.5em"}},e.image1?a.a.createElement(Fe,{media:e.image1.media||{},cropRatio:e.image1.ratio||"3:1",options:this.optionsFromSettings(e.image1)}):null),a.a.createElement("div",{className:"o-layout__item u-1/2@lap"},a.a.createElement(be,{text:e.text2})),a.a.createElement("div",{className:"o-layout__item u-1/2@lap u-hide-until@lap"},a.a.createElement(be,{text:e.text3})),a.a.createElement("div",{className:"o-layout__item u-1/2@lap",style:{marginBottom:"1.5em"}},e.image4?a.a.createElement(Fe,{media:e.image4.media||{},cropRatio:e.image4.ratio||"3:1",options:this.optionsFromSettings(e.image4)}):null),a.a.createElement("div",{className:"o-layout__item u-1/2@lap u-hide-from@lap"},a.a.createElement(be,{text:e.text3})))}}]),t}();sn.propTypes={teaser:le.a.object.isRequired,tastic:le.a.object.isRequired},sn.defaultProps={};var cn=Object(u.b)(function(e,t){var r=null;return t.tastic.configuration.teaser&&(r=e.data.data[t.tastic.configuration.teaser]||null),Object.assign({teaser:r||new y},t)})(sn),ln=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var un=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),ln(t,[{key:"render",value:function(){var e=Object(W.getTranslation)(this.props.tastic.schema.get("text"),this.props.context.locale,this.props.context.project.defaultLanguage);return a.a.createElement("div",{className:"text"},e.text)}}]),t}();un.propTypes={context:le.a.object.isRequired,tastic:le.a.object.isRequired},un.defaultProps={};var pn=Object(u.b)(function(e,t){return Object.assign({context:e.app.context},t)})(un),fn={content:we,contentList:Ee,categoryDescription:ke,categoryImage:Me,imageBanner:He,markdown:Ge,navigation:_t,productList:Nr,productListFilter:tn,product:yr,"product-title":Pt,"product-image":ar,"product-brand":vr,"product-addToCart":ur,"product-description":hr,"product-stock":Pr,"product-price":sr,productSlider:an,teaser:cn,text:pn},hn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var dn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),hn(t,[{key:"render",value:function(){var e=this.props.tastic;if(!fn[e.tasticType])return a.a.createElement("div",{className:"alert alert-warning"},a.a.createElement("p",null,"Tastic ",e.tasticType," not yet implemented."),a.a.createElement("p",null,"Did you just implement it? Please don't forget to register it in the ",a.a.createElement("code",null,"tastic.jsx"),"!"));var t=fn[e.tasticType];return a.a.createElement(fe,null,a.a.createElement("div",{className:"tastic "+(e.schema.get("mobile")?"":"e-tastic--hidden-hand ")+(e.schema.get("tablet")?"":"e-tastic--hidden-lap ")+(e.schema.get("desktop")?"":"e-tastic--hidden-desk "),style:{outline:f.a.isEqual(e.tasticId,this.props.highlight)?"2px dashed #d73964":null}},a.a.createElement(t,{tastic:e,node:this.props.node,page:this.props.page,data:this.props.data})))}}]),t}();dn.propTypes={node:le.a.object.isRequired,page:le.a.object.isRequired,tastic:le.a.object.isRequired,data:le.a.object.isRequired,highlight:le.a.any},dn.defaultProps={};var mn=dn,yn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function bn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var gn=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=bn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.columnMap={12:"e-cell--12",6:"e-cell--6",4:"e-cell--4",3:"e-cell--3"},bn(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),yn(t,[{key:"render",value:function(){var e=this,t=this.props.cell,r=t.schema.get("size")||"12";return a.a.createElement("div",{className:"e-cell "+(t.schema.get("mobile")?"":"e-cell--hidden-hand ")+(t.schema.get("tablet")?"":"e-cell--hidden-lap ")+(t.schema.get("desktop")?"":"e-cell--hidden-desk ")+" "+this.columnMap[r],style:{margin:"0px",padding:"0px",float:"none",outline:t.cellId===this.props.highlight?"2px dashed #30a0bf":null}},t&&t.tastics&&t.tastics.length?f.a.map(t.tastics,function(r,n){return a.a.createElement(mn,{key:r.tasticId,highlight:e.props.highlight,node:e.props.node,page:e.props.page,data:e.props.data,region:e.props.region,cell:t,tastic:r})}):null)}}]),t}();gn.propTypes={node:le.a.object.isRequired,page:le.a.object.isRequired,region:le.a.object.isRequired,cell:le.a.object.isRequired,data:le.a.object.isRequired,highlight:le.a.any},gn.defaultProps={highlight:null};var vn=gn,wn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var _n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),wn(t,[{key:"render",value:function(){var e=this,t=this.props.region;return t?a.a.createElement("div",{className:"e-region "+(t.schema.get("mobile")?"":"e-region--hidden-hand ")+(t.schema.get("tablet")?"":"e-region--hidden-lap ")+(t.schema.get("desktop")?"":"e-region--hidden-desk "),style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:t.schema.get("justifyContent"),alignItems:t.schema.get("alignItems"),alignContent:t.schema.get("alignContent"),outline:t.regionId===this.props.highlight?"2px dashed #a1d8e7":null}},t&&t.elements&&t.elements.length?f.a.map(t.elements,function(r,n){return a.a.createElement(vn,{key:r.cellId,highlight:e.props.highlight,node:e.props.node,page:e.props.page,data:e.props.data,region:t,cell:r})}):null):null}}]),t}();_n.propTypes={node:le.a.object.isRequired,page:le.a.object.isRequired,region:le.a.object.isRequired,data:le.a.object.isRequired,highlight:le.a.any},_n.defaultProps={highlight:null};var jn=_n,En=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var On=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),En(t,[{key:"render",value:function(){return"kit"===this.props.page.layoutId?a.a.createElement("main",{className:"c-page-body"},a.a.createElement("div",{className:"c-page-wrapper o-wrapper"},a.a.createElement(jn,{identifier:"kit",region:this.props.page.regions.kit,highlight:this.props.highlight,data:this.props.data,node:this.props.node,page:this.props.page}))):a.a.createElement(n.Fragment,null,a.a.createElement("header",{className:"c-page-head"},this.props.page.regions.head?a.a.createElement(jn,{identifier:"head",region:this.props.page.regions.head,highlight:this.props.highlight,data:this.props.data,node:this.props.node,page:this.props.page}):null),a.a.createElement("main",{className:"c-page-body"},a.a.createElement("div",{className:"c-page-wrapper o-wrapper"},this.props.page.regions.main?a.a.createElement(jn,{identifier:"main",region:this.props.page.regions.main,highlight:this.props.highlight,data:this.props.data,node:this.props.node,page:this.props.page}):null)),a.a.createElement("footer",{className:"c-page-foot"},this.props.page.regions.footer?a.a.createElement(jn,{identifier:"footer",region:this.props.page.regions.footer,highlight:this.props.highlight,data:this.props.data,node:this.props.node,page:this.props.page}):null))}}]),t}();On.propTypes={node:le.a.object.isRequired,page:le.a.object.isRequired,data:le.a.object.isRequired,highlight:le.a.any},On.defaultProps={highlight:null};var Pn=On,kn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var xn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.layouts={},r.state={page:new W.Page(e.page||{},f.a.keys(e.page.regions),e.tastics||[])},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),kn(t,[{key:"componentWillUpdate",value:function(e){f.a.isEqual(this.props.page,e.page)||this.setState({page:new W.Page(e.page||{},f.a.keys(e.page.regions),e.tastics||[])})}},{key:"getLayout",value:function(){return this.state.page.layoutId&&this.layouts[this.state.page.layoutId]||Pn}},{key:"render",value:function(){var e=this.getLayout();return a.a.createElement(e,{node:this.props.node,page:this.state.page,data:f.a.isArray(this.props.data)?{}:this.props.data,highlight:this.props.highlight})}}]),t}();xn.propTypes={node:le.a.object.isRequired,page:le.a.object.isRequired,data:le.a.object.isRequired,tastics:le.a.array.isRequired,highlight:le.a.any},xn.defaultProps={highlight:null};var Rn=xn,Tn=r(319),Cn=r(312),Nn=r.n(Cn),Sn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Sn(t,[{key:"render",value:function(){var e=!this.props.entity||this.props.entity.loading,t=!(!this.props.entity||!this.props.entity.error),r=this.props.large?128:32;return a.a.createElement(n.Fragment,null,a.a.createElement(Tn.Transition,{appear:!0,in:e||t,timeout:115},function(e){return a.a.createElement("div",{className:"fade-"+e},a.a.createElement("div",{className:"c-overlay is-visible"},a.a.createElement("div",{className:"c-loading"},a.a.createElement("img",{src:Nn.a,width:r,height:r,alt:"Loading"}))))}))}}]),t}();qn.propTypes={large:le.a.bool,entity:le.a.object},qn.defaultProps={large:!1,entity:null};var Fn=qn,An=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var In=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.webSocket=null,r.state={highlight:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),An(t,[{key:"componentDidMount",value:function(){this.connectWebSocket(),window.addEventListener("message",this.highlight.bind(this),!1)}},{key:"componentDidUpdate",value:function(e){e.context.environment!==this.props.context.environment&&(this.webSocket.close(),this.webSocket=null,this.connectWebSocket())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.highlight.bind(this),!1)}},{key:"highlight",value:function(e){e.isTrusted&&this.setState({highlight:e.data.item})}},{key:"connectWebSocket",value:function(){var e=this;if(this.props){var t=("dev"===this.props.context.environment?"ws://demo.frontastic.io.local:8080":"wss://demo.frontastic.io:8080")+"/ws?preview="+this.props.previewId;this.webSocket=new WebSocket(t),this.webSocket.onmessage=function(t){var r=JSON.parse(t.data);switch(r.Name){case"Refresh":Y.getLoader("node").reloadPreview({preview:e.props.previewId});break;case"Highlight":e.setState({highlight:r.Payload.item});break;case"EndHighlight":e.setState({highlight:null});break;case"Ping":break;default:console.info(r)}},this.webSocket.onclose=this.connectWebSocket}}},{key:"render",value:function(){return this.props.tastics.isComplete()?a.a.createElement("div",{className:"s-preview"},this.props.tastics.isComplete()?a.a.createElement(Rn,{node:this.props.node.data||{},page:this.props.page.data||{},data:this.props.data.data||{},highlight:this.state.highlight,tastics:this.props.tastics.data}):null,a.a.createElement(Fn,{large:!0,entity:this.props.data})):a.a.createElement(Fn,{large:!0,entity:this.props.tastics})}}]),t}();In.propTypes={previewId:le.a.string.isRequired,node:le.a.object.isRequired,data:le.a.object.isRequired,page:le.a.object.isRequired,tastics:le.a.object.isRequired,context:le.a.object.isRequired},In.defaultProps={};var Dn=Object(u.b)(function(e,t){return{previewId:e.app.route.get("preview"),node:e.node.nodes[e.node.previewId]||e.node.last.node,data:e.node.nodeData[e.node.currentCacheKey]||e.node.last.data,page:e.node.pages[e.node.previewId]||e.node.last.page,tastics:e.tastic.tastics||new y,context:e.app.context}})(In),Mn=r(311),Vn=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Bn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Vn(t,[{key:"render",value:function(){return this.props.tastics.isComplete()?a.a.createElement("div",{className:"s-node"},this.props.tastics.isComplete()?a.a.createElement(Mn.Scrollbars,{autoHide:!0,style:{height:"100vh",width:"100vw"}},a.a.createElement(Rn,{node:this.props.node.data||{configuration:{}},page:this.props.page.data||{},data:this.props.data.data||{},tastics:this.props.tastics.data})):null,a.a.createElement(Fn,{large:!0,entity:this.props.data})):a.a.createElement(Fn,{large:!0,entity:this.props.tastics})}}]),t}();Bn.propTypes={node:le.a.object.isRequired,data:le.a.object.isRequired,page:le.a.object.isRequired,tastics:le.a.object.isRequired},Bn.defaultProps={};var Ln=Object(u.b)(function(e,t){return{node:e.node.nodes[e.node.currentNodeId]||e.node.last.node,data:e.node.nodeData[e.node.currentCacheKey]||e.node.last.data,page:e.node.pages[e.node.currentNodeId]||e.node.last.page,tastics:e.tastic.tastics||new y}})(Bn),Un=document.getElementById("app"),zn=Un.getAttribute("data-app");if(zn){var Hn=JSON.parse(zn);V.dispatch({type:"ApiBundle.Api.context.success",data:Hn});var Wn=new E(Hn);Y.getRouter().setContext(Wn),Y.getRouter().setRoutes(Wn.routes),Y.loadForLocation(window.location)}else Y.getLoader("context").refresh();i.a.render(a.a.createElement(u.a,{store:Y.getStore()},a.a.createElement(se,null,a.a.createElement(s.a,{history:B.a},a.a.createElement(c.a,null,a.a.createElement(l.a,{exact:!0,path:Y.getRouter().reactRoute("Frontastic.Frontend.Preview.view"),component:Dn}),f.a.toArray(f.a.mapValues(Y.getRouter().routes,function(e,t){return"node_"!==t.substr(0,5)?null:a.a.createElement(l.a,{exact:!0,key:t,path:Y.getRouter().reactRoute(t),component:Ln})})),a.a.createElement(l.a,{exact:!0,path:Y.getRouter().reactRoute("Frontastic.Frontend.Master.Product.view"),component:Ln}),a.a.createElement(l.a,{exact:!0,path:Y.getRouter().reactRoute("Frontastic.Frontend.Master.Category.view"),component:Ln}),a.a.createElement(l.a,{component:Ln}))))),Un)},248:function(e,t,r){e.exports=r.p+"assets/media/noImage.53271a59.svg"},285:function(e,t,r){e.exports=r.p+"assets/media/cross.e52a6014.svg"},312:function(e,t,r){e.exports=r.p+"assets/media/loading.8c029291.svg"},367:function(e,t,r){e.exports=r.p+"assets/media/arrow-left.e565580d.svg"},368:function(e,t,r){e.exports=r.p+"assets/media/fastDelivery.37ce5beb.svg"},369:function(e,t,r){e.exports=r.p+"assets/media/all_out.cd6adf68.svg"},370:function(e,t,r){e.exports=r.p+"assets/media/zoom_in.01cb7f57.svg"},371:function(e,t,r){e.exports=r.p+"assets/media/zoom_out.a2a52161.svg"},385:function(e,t,r){e.exports=r.p+"assets/media/symbol-defs.ee9b0a0e.svg"},386:function(e,t,r){e.exports=r.p+"assets/media/bag.7a566efc.svg"},387:function(e,t,r){e.exports=r.p+"assets/media/logo.e3a7e4e9.svg"},400:function(e,t){},407:function(e,t){},415:function(e,t){}}]);
//# sourceMappingURL=1.ee8000a4.chunk.js.map